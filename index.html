<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>로또 번호 생성기</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --line: #23324a;
      --text: #e5edff;
      --muted: #9fb0d1;
      --accent: #38bdf8;
      --ok: #22c55e;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Noto Sans KR", "Segoe UI", sans-serif;
      color: var(--text);
      background:
        radial-gradient(900px 500px at 10% 0%, rgba(56, 189, 248, 0.18), transparent 60%),
        radial-gradient(1000px 600px at 90% 10%, rgba(34, 197, 94, 0.12), transparent 60%),
        var(--bg);
      display: grid;
      place-items: center;
      padding: 16px;
    }
    .app {
      width: min(900px, 100%);
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius: 20px;
      padding: 20px;
    }
    h1 { margin: 0 0 8px; font-size: 30px; }
    .sub { margin: 0 0 16px; color: var(--muted); font-size: 14px; }
    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 14px;
    }
    select, button {
      border: 1px solid var(--line);
      background: #0b1220;
      color: var(--text);
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 14px;
    }
    button { cursor: pointer; font-weight: 700; }
    .primary {
      background: rgba(56, 189, 248, 0.2);
      border-color: rgba(56, 189, 248, 0.6);
    }
    .secondary { color: var(--muted); }
    #result {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 12px;
      min-height: 90px;
      background: rgba(11, 18, 32, 0.7);
    }
    .line {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      margin: 10px 0;
    }
    .tag {
      width: 26px;
      color: var(--muted);
      font-size: 13px;
    }
    .ball {
      width: 38px;
      height: 38px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      border: 1px solid rgba(255,255,255,.18);
      font-weight: 800;
      font-size: 14px;
      background: rgba(255,255,255,.06);
    }
    .plus { color: var(--muted); font-weight: 700; margin: 0 2px; }
    .hint { margin: 10px 0 0; color: var(--muted); font-size: 13px; }
    .ok { color: var(--ok); }
  </style>
</head>
<body>
  <main class="app">
    <h1>로또 번호 생성기</h1>
    <p class="sub">1~45 중복 없이 6개 + 보너스 1개를 무작위로 생성합니다.</p>

    <div class="toolbar">
      <label for="count">생성 줄 수</label>
      <select id="count">
        <option value="1">1줄</option>
        <option value="3" selected>3줄</option>
        <option value="5">5줄</option>
      </select>
      <button id="genBtn" class="primary" type="button">번호 생성</button>
      <button id="copyBtn" class="secondary" type="button" disabled>결과 복사</button>
    </div>

    <section id="result" aria-live="polite"></section>
    <p id="status" class="hint">아직 생성된 번호가 없습니다.</p>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);
    const resultEl = $("result");
    const statusEl = $("status");
    const copyBtn = $("copyBtn");

    let lastText = "";

    function rand(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function pickOne() {
      const set = new Set();
      while (set.size < 7) set.add(rand(1, 45));
      const arr = [...set];
      const main = arr.slice(0, 6).sort((a, b) => a - b);
      const bonus = arr[6];
      return { main, bonus };
    }

    function ballColor(n) {
      if (n <= 10) return "rgba(245, 158, 11, .26)";
      if (n <= 20) return "rgba(59, 130, 246, .24)";
      if (n <= 30) return "rgba(239, 68, 68, .22)";
      if (n <= 40) return "rgba(34, 197, 94, .22)";
      return "rgba(156, 163, 175, .22)";
    }

    function makeBall(n) {
      const span = document.createElement("span");
      span.className = "ball";
      span.textContent = n;
      span.style.background = `linear-gradient(180deg, ${ballColor(n)}, rgba(11,18,32,.8))`;
      return span;
    }

    function render(lines) {
      resultEl.innerHTML = "";
      lines.forEach((line, idx) => {
        const row = document.createElement("div");
        row.className = "line";

        const tag = document.createElement("span");
        tag.className = "tag";
        tag.textContent = `${idx + 1}줄`;
        row.appendChild(tag);

        line.main.forEach((n) => row.appendChild(makeBall(n)));

        const plus = document.createElement("span");
        plus.className = "plus";
        plus.textContent = "+";
        row.appendChild(plus);

        row.appendChild(makeBall(line.bonus));
        resultEl.appendChild(row);
      });
    }

    function format(lines) {
      return lines.map((line, idx) => `${idx + 1}줄: ${line.main.join(", ")} + ${line.bonus}`).join("\n");
    }

    function generate() {
      const count = Number($("count").value);
      const lines = Array.from({ length: count }, () => pickOne());
      render(lines);
      lastText = format(lines);
      statusEl.innerHTML = `<span class="ok">생성 완료</span> - ${new Date().toLocaleString("ko-KR")}`;
      copyBtn.disabled = false;
    }

    async function copy() {
      if (!lastText) return;
      try {
        await navigator.clipboard.writeText(lastText);
        statusEl.innerHTML = `<span class="ok">복사 완료</span> - 클립보드에 저장되었습니다.`;
      } catch {
        const ta = document.createElement("textarea");
        ta.value = lastText;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        statusEl.innerHTML = `<span class="ok">복사 완료</span> - 클립보드에 저장되었습니다.`;
      }
    }

    $("genBtn").addEventListener("click", generate);
    copyBtn.addEventListener("click", copy);
  </script>
</body>
</html>
